<!DOCTYPE html>
<html>
<head>
  <title>Account Opening Form</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 20px;
    }

    h2 {
      text-align: center;
    }

    form {
      max-width: 800px;
      margin: 0 auto;
      display: grid;
      grid-template-columns: 1fr 1fr; /* Two columns */
      grid-gap: 20px; /* Gap between columns */
    }

    form div {
      margin-bottom: 10px;
    }

    label {
      display: block;
      font-weight: bold;
      margin-bottom: 5px;
    }

    input[type="text"],
    input[type="date"],
    select {
      width: 100%;
      padding: 8px;
      border: 1px solid #ccc;
      border-radius: 4px;
      box-sizing: border-box;
    }

    select {
      height: 34px;
    }

    input[type="radio"] {
      margin-right: 5px;
    }

    button[type="submit"] {
      background-color: #4CAF50;
      color: white;
      border: none;
      padding: 10px 20px;
      text-align: center;
      text-decoration: none;
      display: inline-block;
      font-size: 14px;
      cursor: pointer;
      border-radius: 4px;
      /*grid-column: 1 / span 2; /* Span across two columns */
      margin-left: 300px;
    }
    .dashboard-icon {
      position: absolute;
      top: 20px;
      left: 20px;
      color: #333;
      font-size: 24px;
      cursor: pointer;
    }
  </style>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@10"></script>
    <!DOCTYPE html>
    <html>
    <head>
      <title>Account Opening Form</title>
    </head>
    <body>
      <div class="dashboard-icon" onclick="redirectToDashboard()">
        <span class="glyphicon glyphicon-th-large"></span>
      </div>
      <h2>Account Opening Form</h2>
      <form id="account-opening-form" action="/submit" method="POST">
        <div>
          <label for="first-name">First Name</label>
          <input type="text" id="first-name" name="first-name" placeholder="Enter your first name" required>
        </div>
        <div>
          <label for="last-name">Last Name</label>
          <input type="text" id="last-name" name="last-name" placeholder="Enter your last name" required>
        </div>
        <div>
          <label for="mobile-number">Mobile Number</label>
          <input type="text" id="mobile-number" name="mobile-number" placeholder="Enter your mobile number" required>
        </div>
        <div>
          <label for="date-of-birth">Date of Birth</label>
          <input type="date" id="date-of-birth" name="date-of-birth" max="2023-01-01" required>
        </div>
        <div>
          <label for="aadhar-number">Aadhar Number</label>
          <input type="text" id="aadhar-number" name="aadhar-number" placeholder="Enter your Aadhar number" required>
        </div>
        <div>
          <label for="pan-number">PAN Number</label>
          <input type="text" id="pan-number" name="pan-number" placeholder="Enter your PAN number" required>
        </div>
        <div>
          <label for="nationality">Nationality</label>
          <select id="nationality" name="nationality" required>
            <option value="" selected>Select Nationality</option>
            <option value="indian">Indian</option>
            <!-- Add more options as needed -->
          </select>
        </div>
        <div>
          <label for="state">State</label>
          <select id="state" name="state" required>
            <option value="" selected>Select State</option>
            <option value="Andhra Pradesh">Andhra Pradesh</option>
            <option value="Arunachal Pradesh">Arunachal Pradesh</option>
            <option value="Assam">Assam</option>
            <option value="Bihar">Bihar</option>
            <option value="Chhattisgarh">Chhattisgarh</option>
            <option value="Goa">Goa</option>
            <option value="Gujarat">Gujarat</option>
            <option value="Haryana">Haryana</option>
            <option value="Himachal Pradesh">Himachal Pradesh</option>
            <option value="Jharkhand">Jharkhand</option>
            <option value="Karnataka">Karnataka</option>
            <option value="Kerala">Kerala</option>
            <option value="Madhya Pradesh">Madhya Pradesh</option>
            <option value="Maharashtra">Maharashtra</option>
            <option value="Manipur">Manipur</option>
            <option value="Meghalaya">Meghalaya</option>
            <option value="Mizoram">Mizoram</option>
            <option value="Nagaland">Nagaland</option>
            <option value="Odisha">Odisha</option>
            <option value="Punjab">Punjab</option>
            <option value="Rajasthan">Rajasthan</option>
            <option value="Sikkim">Sikkim</option>
            <option value="Tamil Nadu">Tamil Nadu</option>
            <option value="Telangana">Telangana</option>
            <option value="Tripura">Tripura</option>
            <option value="Uttar Pradesh">Uttar Pradesh</option>
            <option value="Uttarakhand">Uttarakhand</option>
            <option value="West Bengal">West Bengal</option>
          </select>
        </div>
        <div>
          <label>Gender</label>
          <label for="gender-male">
            <input type="radio" id="gender-male" name="gender" value="male" required> Male
          </label>
          <label for="gender-female">
            <input type="radio" id="gender-female" name="gender" value="female" required> Female
          </label>
          <label for="gender-others">
            <input type="radio" id="gender-others" name="gender" value="others" required> Others
          </label>
        </div>
        <div>
          <label for="branch-code">Branch Code</label>
          <input type="text" id="branch-code" name="branch-code" placeholder="Enter branch code" required>
        </div>
        <div>
          <label for="account-type">Account Type</label>
          <select id="account-type" name="account-type" required>
            <option value="" selected>Select Account Type</option>
            <option value="savings">Savings</option>
            <option value="current">Current</option>
            <!-- Add more options as needed -->
          </select>
        </div>
        <div>
          <label for="opening-balance">Opening Balance</label>
          <input type="text" id="opening-balance" name="opening-balance" placeholder="Enter opening balance" required>
        </div>
        <div>
          <button type="submit">Submit</button>
        </div>
      </form>
    
      <script>
    
    
          document.getElementById('account-opening-form').addEventListener('submit', function(event) {
          event.preventDefault(); // Prevent the default form submission
    
          // Perform field validations
          var isFirstNameValid = validateFirstName();
          var isLastNameValid = validateLastName();
          var isMobileNumberValid = validateMobileNumber();
          var isAadharNumberValid = validateAadharNumber();
          var isPANNumberValid = validatePANNumber();
          var isBranchCodeValid = validateBranchCode();
          var isOpeningBalanceValid = validateOpeningBalance();
    
          // Proceed with form submission if all fields are valid
          if (isFirstNameValid && isLastNameValid && isMobileNumberValid && isAadharNumberValid && isPANNumberValid && isBranchCodeValid && isOpeningBalanceValid) {
            // Get form data
            var form = event.target;
            var formData = new FormData(form);
    
            // Create an HTTP request
            var xhr = new XMLHttpRequest();
            xhr.open(form.method, form.action, true);
            xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');
    
            // Handle the response
            xhr.onload = function() {
              if (xhr.status === 200) {
                // Handle the success response from the server
                console.log(xhr.responseText);
                window.location.href = '/kyc';
              } else {
                // Handle the error response from the server
                console.error(xhr.responseText);
              }
            };
    
            // Send the request
            xhr.send(new URLSearchParams(formData));
          } else {
            // Show validation error message
            Swal.fire('Validation Error', 'Please enter valid information in all fields.', 'error');
          }
        });
    
        function redirectToDashboard() {
          window.location.href = '/dashboard';
        }
    
        function validateFirstName() {
          var firstNameInput = document.getElementById('first-name');
          var firstName = firstNameInput.value.trim();
          var nameRegex = /^[a-zA-Z]+$/;
          return nameRegex.test(firstName);
        }
    
        function validateLastName() {
          var lastNameInput = document.getElementById('last-name');
          var lastName = lastNameInput.value.trim();
          var nameRegex = /^[a-zA-Z]+$/;
          return nameRegex.test(lastName);
        }
    
        function validateMobileNumber() {
          var mobileNumberInput = document.getElementById('mobile-number');
          var mobileNumber = mobileNumberInput.value.trim();
          var mobileNumberRegex = /^\d{10}$/;
          return mobileNumberRegex.test(mobileNumber);
        }
    
        function validateAadharNumber() {
          var aadharNumberInput = document.getElementById('aadhar-number');
          var aadharNumber = aadharNumberInput.value.trim();
          var aadharNumberRegex = /^\d{12}$/;
          return aadharNumberRegex.test(aadharNumber);
        }
    
        function validatePANNumber() {
          var panNumberInput = document.getElementById('pan-number');
          var panNumber = panNumberInput.value.trim();
          var panNumberRegex = /^[A-Za-z]{5}\d{4}[A-Za-z]{1}$/;
          return panNumberRegex.test(panNumber);
        }
    
        function validateBranchCode() {
          var branchCodeInput = document.getElementById('branch-code');
          var branchCode = branchCodeInput.value.trim();
          var branchCodeRegex = /^\d+$/;
          return branchCodeRegex.test(branchCode);
        }
    
        function validateOpeningBalance() {
          var openingBalanceInput = document.getElementById('opening-balance');
          var openingBalance = openingBalanceInput.value.trim();
          var openingBalanceRegex = /^\d+$/;
          return openingBalanceRegex.test(openingBalance);
        }
      </script>
    </body>
    </html>
    
